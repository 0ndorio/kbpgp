// Generated by IcedCoffeeScript 1.6.3-g
(function() {
  var C, algos, alloc, k, make_hasher, v, _lookup, _ref;



  C = require('./const').openpgp;

  algos = require('triplesec').hash;

  make_hasher = function(klass, name, type) {
    var f;
    if (klass != null) {
      f = function(x) {
        return (new klass).bufhash(x);
      };
      f.type = type;
      f.algname = name;
      f.output_length = klass.output_size;
      return f;
    } else {
      return null;
    }
  };

  _lookup = {};

  _ref = C.hash_algorithms;
  for (k in _ref) {
    v = _ref[k];
    _lookup[v] = k;
    exports[k] = make_hasher(algos[k], k, v);
  }

  exports.alloc = alloc = function(typ) {
    var klass, name, ret;
    ret = null;
    name = _lookup[typ];
    if (name != null) {
      klass = algos[name];
    }
    if (klass != null) {
      ret = make_hasher(klass, name, typ);
    }
    return ret;
  };

}).call(this);
